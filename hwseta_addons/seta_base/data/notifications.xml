<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <data>
        <function name="write" model="ir.model.data">
  <function name="search" model="ir.model.data">
    <value eval="[('name', '=', 'set_password_email'), ('module', '=', 'auth_signup')]" />
  </function>
  <value eval="{'noupdate': False}" />
</function>

                <!-- Email template for new users -->
        <record id="auth_signup.set_password_email" model="mail.template">
            <field name="name">New User Signup</field>
            <field name="model_id" ref="base.model_res_users"/>
            <field name="subject">HWSETA Hub ERP System Sign-Up Invitation</field>
            <field name="email_from">{{ (object.company_id.email_formatted or user.email_formatted) }}</field>
            <field name="email_to">{{ object.email_formatted }}</field>
            <field name="description">Sent to new user after you invited them</field>
            <field name="body_html" type="html">
<table border="0" cellpadding="0" cellspacing="0" style="padding-top: 16px; background-color: #FFFFFF; font-family:Verdana, Arial,sans-serif; color: #454748; width: 100%; border-collapse:separate;"><tr><td align="center">
<table border="0" cellpadding="0" cellspacing="0" width="590" style="padding: 16px; background-color: #FFFFFF; color: #454748; border-collapse:separate;">
<tbody>
    <!-- HEADER -->
    <tr>
    <td align="center" style="min-width: 590px;">
        <table border="0" cellpadding="0" cellspacing="0" width="590" style="min-width: 590px; background-color: white; padding: 0px 8px 0px 8px; border-collapse: separate;">
            <tr>
                <td valign="middle" align="right" t-if="not object.company_id.uses_default_logo" style="vertical-align: middle;">
                    <img src="https://bitbucket.org/hwseta_bb/eoi_files/raw/862397f21715289daf5aad9701cc7e69a90da659/hwseta.png"
                         width="150" height="auto"
                         style="max-width: 150px; height: auto; display: block; padding: 0px; margin: 0px;"
                         t-att-alt="object.company_id.name" />
                </td>
            </tr>
            <tr>
                <td colspan="2" style="text-align: center;">
                    <hr width="100%" style="background-color: rgb(204, 204, 204); border: none; clear: both; display: block; font-size: 0px; min-height: 1px; line-height: 0; margin: 16px 0px 16px 0px;" />
                </td>
            </tr>
        </table>
    </td>
</tr>
    <!-- CONTENT -->
    <tr>
        <td align="center" style="min-width: 590px;">
            <table border="0" cellpadding="0" cellspacing="0" width="590" style="min-width: 590px; background-color: white; padding: 0px 8px 0px 8px; border-collapse:separate;">
                <tr><td valign="top" style="font-size: 13px;">
                    <div>
                        Dear <t t-out="object.name or ''">Marc Demo</t>,<br /><br />
                        Thank you for your interest in connecting with the HWSETA Hub ERP System.
                        To complete your registration, please click the link below:
                        <div style="margin: 16px 0px 16px 0px;">
                            <a t-att-href="object.signup_token"
                                style="background-color: #875A7B; padding: 8px 16px 8px 16px; text-decoration: none; color: #fff; border-radius: 5px; font-size:13px;">
                                Accept invitation
                            </a>
                        </div>
                        <t t-set="website_url" t-value="object.get_base_url()"></t>
<!--                        Your Odoo domain is: <b><a t-att-href='website_url' t-out="website_url or ''">http://yourcompany.odoo.com</a></b><br />-->
                        Your sign in email is: <b><a t-attf-href="/web/login?login={{ object.email }}" target="_blank" t-out="object.email or ''">mark.brown23@example.com</a></b><br /><br />
                        Kindly note that this link will expire in 24 hours. We recommend completing the registration process within this timeframe to ensure uninterrupted access.
                        If you have any questions or require assistance, please donâ€™t hesitate to contact us.

                        <br /><br />
                        Best regards,<br />
                        --<br/>The <t t-out="object.company_id.name or ''">YourCompany</t> Systems Development Team
                    </div>
                </td></tr>
                <tr><td style="text-align:center;">
                  <hr width="100%" style="background-color:rgb(204,204,204);border:medium none;clear:both;display:block;font-size:0px;min-height:1px;line-height:0; margin: 16px 0px 16px 0px;"/>
                </td></tr>
            </table>
        </td>
    </tr>
    <!-- FOOTER -->
    <tr>
        <td align="center" style="min-width: 590px;">
            <table border="0" cellpadding="0" cellspacing="0" width="590" style="min-width: 590px; background-color: white; font-size: 11px; padding: 0px 8px 0px 8px; border-collapse:separate;">
                <tr><td valign="middle" align="left">
                    <t t-out="object.company_id.name or ''">YourCompany</t>
                </td></tr>
                <tr><td valign="middle" align="left" style="opacity: 0.7;">
                    <t t-out="object.company_id.phone or ''">+1 650-123-4567</t>
                    <t t-if="object.company_id.email">
                        | <a t-att-href="'mailto:%s' % object.company_id.email" style="text-decoration:none; color: #454748;" t-out="object.company_id.email or ''">info@yourcompany.com</a>
                    </t>
                    <t t-if="object.company_id.website">
                        | <a t-att-href="'%s' % object.company_id.website" style="text-decoration:none; color: #454748;" t-out="object.company_id.website or ''">http://www.example.com</a>
                    </t>
                </td></tr>
            </table>
        </td>
    </tr>
</tbody>
</table>
</td></tr>
<!-- POWERED BY -->
<!--<tr><td align="center" style="min-width: 590px;">-->
<!--    <table border="0" cellpadding="0" cellspacing="0" width="590" style="min-width: 590px; background-color: #F1F1F1; color: #454748; padding: 8px; border-collapse:separate;">-->
<!--      <tr><td style="text-align: center; font-size: 13px;">-->
<!--        Powered by <a target="_blank" href="https://www.odoo.com?utm_source=db&amp;utm_medium=auth" style="color: #875A7B;">Odoo</a>-->
<!--      </td></tr>-->
<!--    </table>-->
<!--</td></tr>-->
</table></field>
            <field name="lang">{{ object.lang }}</field>
            <field name="auto_delete" eval="True"/>
        </record>



    <function name="write" model="ir.model.data">
  <function name="search" model="ir.model.data">
    <value eval="[('name', '=', 'set_password_email'), ('module', '=', 'auth_signup')]" />
  </function>
  <value eval="{'noupdate': True}" />
</function>


<template id="auth_signup.reset_password_email" name="User Reset Password">
        <table border="0" cellpadding="0" cellspacing="0" style="padding-top: 16px; background-color: #FFFFFF; font-family:Verdana, Arial,sans-serif; color: #454748; width: 100%; border-collapse:separate;">

            <tr><td align="center">
        <table border="0" cellpadding="0" cellspacing="0" width="590" style="padding: 16px; background-color: #FFFFFF; color: #454748; border-collapse:separate;">
        <tbody>
            <!-- HEADER -->
            <tr>
    <td align="center" style="min-width: 590px;">
        <table border="0" cellpadding="0" cellspacing="0" width="590" style="min-width: 590px; background-color: white; padding: 0px 8px 0px 8px; border-collapse: separate;">
            <tr>
                <td valign="middle" align="right" t-if="not object.company_id.uses_default_logo" style="vertical-align: middle;">
                    <img src="https://bitbucket.org/hwseta_bb/eoi_files/raw/862397f21715289daf5aad9701cc7e69a90da659/hwseta.png"
                         width="150" height="auto"
                         style="max-width: 150px; height: auto; display: block; padding: 0px; margin: 0px;"
                         t-att-alt="object.company_id.name" />
                </td>
            </tr>
            <tr>
                <td colspan="2" style="text-align: center;">
                    <hr width="100%" style="background-color: rgb(204, 204, 204); border: none; clear: both; display: block; font-size: 0px; min-height: 1px; line-height: 0; margin: 16px 0px 16px 0px;" />
                </td>
            </tr>
        </table>
    </td>
</tr>
            <!-- CONTENT -->
            <tr>
                <td align="center" style="min-width: 590px;">
                    <table border="0" cellpadding="0" cellspacing="0" width="590" style="min-width: 590px; background-color: white; padding: 0px 8px 0px 8px; border-collapse:separate;">
                        <tr><td valign="top" style="font-size: 13px;">
                            <div>
                                Dear <t t-out="object.name or ''">Marc Demo</t>,<br/><br/>
                                We received a request to reset the password for your account associated with HWSETA Hub System. If you did not request this change, please disregard this email. Your account is safe.
                                <br/><br/>
                                To reset your password, please click the link below:<br/><br/>
                                <div style="margin: 16px 0px 16px 0px;">
                                    <a t-att-href="object.signup_token"
                                        style="background-color: #875A7B; padding: 8px 16px 8px 16px; text-decoration: none; color: #fff; border-radius: 5px; font-size:13px;">
                                        Change password
                                    </a>
                                </div>
                                This link will expire in 24 hours. If the link expires or if you encounter any issues, feel free to request a new password reset from the login page.<br/><br/>
                                If you need further assistance or have any questions, please do not hesitate to log a ticket on the ERP Helpdesk system<br/><br/>
                                Best regards,
                                <t t-if="user.signature">
                                    <br/>
                                    --
                                    <br/>
                                    Systems Administrator
<!--                                    <t t-out="user.signature">&#45;&#45;<br/>Mitchell Admin</t>-->
                                </t>
                            </div>
                        </td></tr>
                        <tr><td style="text-align:center;">
                          <hr width="100%" style="background-color:rgb(204,204,204);border:medium none;clear:both;display:block;font-size:0px;min-height:1px;line-height:0; margin: 16px 0px 16px 0px;"/>
                        </td></tr>
                    </table>
                </td>
            </tr>
            <!-- FOOTER -->
            <tr>
                <td align="center" style="min-width: 590px;">
                    <table border="0" cellpadding="0" cellspacing="0" width="590" style="min-width: 590px; background-color: white; font-size: 11px; padding: 0px 8px 0px 8px; border-collapse:separate;">
                        <tr><td valign="middle" align="left">
                            <t t-out="object.company_id.name or ''">YourCompany</t>
                        </td></tr>
                        <tr><td valign="middle" align="left" style="opacity: 0.7;">
                            <t t-out="object.company_id.phone or ''">+1 650-123-4567</t>

                            <t t-if="object.company_id.email">
                                | <a t-att-href="'mailto:%s' % object.company_id.email" style="text-decoration:none; color: #454748;" t-out="object.company_id.email">info@yourcompany.com</a>
                            </t>
                            <t t-if="object.company_id.website">
                                | <a t-att-href="'%s' % object.company_id.website" style="text-decoration:none; color: #454748;" t-out="object.company_id.website">http://www.example.com</a>
                            </t>
                        </td></tr>
                    </table>
                </td>
            </tr>
        </tbody>
        </table>
        </td></tr>
        </table>
    </template>



         <!-- Template for security update notification (password/login/mail changed, ...) -->
        <template id="mail.account_security_setting_update">

    <!-- Body Content -->
    <p>
        <span>Dear <t t-out="user.name"/>,</span>
    </p>
    <p>
        <span t-out="security_update_text"/>
        <span>(<t
            t-out="update_datetime"
            t-options='{"widget": "datetime", "hide_seconds": True}'/>).</span>
    </p>
    <p>
        <span>If this was done by you:</span><br/>
        <ul>
            <li>You can safely ignore this message</li>
        </ul>
    </p>
    <p>
        <span>If this was not done by you:</span>
    </p>
    <ul class="o_mail_account_security_suggestions">
        <li t-if="suggest_password_reset">
            <span>We suggest you start by</span>
            <a t-att-href="password_reset_url">
                Resetting Your Password
            </a>
        </li>
        <li>
            Contact HWSETA Systems Administrator +27 (0)11 607 6900
        </li>
    </ul>

    <!-- Footer Section -->
    <footer style="margin-top: 20px; text-align: center; color: #999;">
        <p>
            This is an automated message from HWSETA systems. Please do not reply.
        </p>
        <p>
            For further assistance, contact <a href="mailto:hwseta@hwseta.org.za">hwseta@hwseta.org.za</a>
        </p>
    </footer>

</template>
<!--        <template id="mail.account_security_setting_update">-->

<!--<p>-->
<!--    <span>Dear <t t-out="user.name"/>,</span>-->
<!--</p>-->
<!--<p>-->
<!--    <span t-out="security_update_text"/>-->
<!--    <span>(<t-->
<!--        t-out="update_datetime"-->
<!--        t-options='{"widget": "datetime", "hide_seconds": True}'/>).</span>-->
<!--</p>-->
<!--<p>-->
<!--    <span>If this was done by you:</span><br/>-->
<!--    <ul>-->
<!--        <li>You can safely ignore this message</li>-->
<!--    </ul>-->
<!--</p>-->
<!--<p>-->
<!--    <span>If this was not done by you:</span>-->
<!--</p>-->
<!--<ul class="o_mail_account_security_suggestions">-->
<!--    <li t-if="suggest_password_reset">-->
<!--        <span>We suggest you start by</span>-->
<!--        <a t-att-href="password_reset_url">-->
<!--            Resetting Your Password-->
<!--        </a>-->
<!--    </li>-->
<!--    <li>-->
<!--        Contact HWSETA Systems Administrator +27 (0)11 607 6900-->
<!--    </li>-->
<!--</ul>-->
<!--        </template>-->


        <template id="auth_totp_mail.account_security_setting_update" inherit_id="mail.account_security_setting_update">
            <xpath expr="//ul[hasclass('o_mail_account_security_suggestions')]/li[1]" position="after">
            </xpath>
        </template>

<!--        <template id="account_security_setting_update" inherit_id="mail.account_security_setting_update">-->
<!--            <xpath expr="//t[7]/tr" position="replace">-->
<!--            </xpath>-->
<!--        </template>-->


<!--    <template id="message_notification_email_without_branding" inherit_id="mail.message_notification_email">-->
<!--        <xpath expr="//p[@style='color: #555555; margin-top:32px;']" position="replace">-->
<!--            <p/>-->
<!--        </xpath>-->
<!--    </template>-->

</data>
    </odoo>